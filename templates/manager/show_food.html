{% extends 'home.html' %}

{% block content %}
{% load crispy_forms_tags %}
{% load humanize %}

<div class="text-xl text-center mt-5 mb-5 font-extrabold">รายการอาหาร</div>



<div class="m-2 mb-5">
    <div class="mx-auto max-w-xl">
        <main class=" max-w-auto justify-center items-center rounded">
            <!-- <div id="my-qr-reader" class="rounded-lg"></div> -->
        </main>
    </div>
</div>

<div class="overflow-y-hidden rounded-lg border mb-5 m-2">
    <div class="overflow-x-auto">
        <table class="w-full">
            <thead>
                <tr class="bg-blue-800 text-left text-xs font-semibold uppercase tracking-widest text-white">
                    
                    <th class="px-5 py-3">ชื่ออาหาร</th>
                    <th class="px-5 py-3">ราคา</th>
                    <th class="px-5 py-3">สถานะอาหาร</th>
                    <th class="px-5 py-3">แสดงเมนูแนะนำ</th>
                    <th class="px-5 py-3">แก้ไข</th>
                    <th class="px-5 py-3">ลบ</th>
                </tr>
            </thead>
            <tbody class="text-gray-500">
                {% for f in foods %}

                <tr>
                    <td class="border-b border-gray-200 bg-white px-5 py-5 text-sm">

                            <div class="flex items-center">
                                <div class="h-10 w-10 flex-shrink-0">
                                    <img class="h-full w-full rounded-lg"
                                        src="{% if f.img %} {{ f.img.url }} {% else %}{% endif %}" alt="" />
                                </div>
                                <div class="ml-3">
                                    <p class="whitespace-no-wrap">{{f.name}}</p>
                                </div>
                            </div>

                    </td>

                    <td class="border-b border-gray-200 bg-white px-5 py-5 text-sm">
                        <p class="whitespace-no-wrap">{{f.price}}</p>
                    </td>
                    <td class="border-b border-gray-200 bg-white px-5 py-5 text-sm">
                        <p class="whitespace-no-wrap">{% if f.stock == True %}<i class="fa-solid fa-circle-check text-green-600"></i>{% else %}<i class="fa-solid fa-circle-xmark text-red-500"></i>{% endif %}</p>
                    </td>
                    <td class="border-b border-gray-200 bg-white px-5 py-5 text-sm">
                        <p class="whitespace-no-wrap">{% if f.suggested == True %}<i class="fa-solid fa-circle-check text-green-600"></i>{% else %}<i class="fa-solid fa-circle-xmark text-red-500"></i>{% endif %}</p>
                    </td>

                   

                    <td class="border-b border-gray-200 bg-white px-5 py-5 text-sm">
                        <a href="{% url 'update_foods' f.id %}">
                            <span class="px-3 py-1 text-xs font-semibold text-green-900"><i
                                class="fa-solid fa-pen-to-square"></i></span>
                        </a>
                    </td>

                    <td class="border-b border-gray-200 bg-white px-5 py-5 text-sm">
                        <a href="{% url 'delete_foods' f.id %}">
                            <span class="px-3 py-1 text-xs font-semibold text-green-900"><i
                                class="fa-solid fa-trash-can"></i></span>
                        </a>
                    </td>

                </tr>
                {% endfor %}

            </tbody>
        </table>
    </div>

</div>

<div class="m-2 mb-28 mx-auto text-center">
    <div class="">
        <a href="{% url 'add_foods' %}"
            class="text-white bg-orange-700 hover:bg-orange-800 font-medium rounded-lg text-sm py-2 px-5 mx-auto">เพิ่มรายการอาหาร</a>
    </div>
</div>

{% endblock %}